# This is how one can set a reattach password:

# set status lines
caption always "%{+b bk}$USER@%{wk}%H | %{yk}(load: %l |%{rk} cpu: %1` | %{Gk}net: %2`)  %-21=%{wk}%D %d.%m.%Y %0c"
# caption always "%{+b bk}$USER@%{wk}%H%{gk} | %c %{yk}%D %d.%m.%Y | %{rk}(load: %l | cpu: %1`) %-21=%{wk}%D %d.%m.%Y %0c"
# caption always "%{+b bk}$USER@%{wk}%H%{gk} | %c %{yk}%D %d.%m.%Y | %{rk}(load: %l | cpu: %1` | acpi: %2`)"
# caption always "%{+b bk}$USER%{wk}%H: screen%{gk} |%c %{yk}%d.%m.%Y | %{rk}(system load: %l)%-21=%{wk}%D %d.%m.%Y %0c"

# password ODSJQf.4IJN7E    # "1234"

startup_message off

# bigger scrollback, default is 100 lines
defscrollback 2048

# An alternative hardstatus to display a bar at the bottom listing the
# windownames and highlighting the current windowname in blue. (This is only
# enabled if there is no hardstatus setting for your terminal)
hardstatus on
hardstatus alwayslastline
hardstatus string "%{.bW}%-w%{.rW}%n %t%{-}%+w %=%{..G} %H %{..Y} %m/%d %C%a "
#hardstatus alwayslastline "%{wr}%n%f %t %{kw} | %?%-Lw%?%{wb}%n*%f %t%?(%u)%?%{kw}%?%+Lw%? %{wk}"

# another way to show window list
#caption always "%?%F%{-b 4w}%:%{-b bb}%? %H | %l | %m-%d %c |%?%F%{-b 4w}%?%L=%-Lw%45>%{-b w4}%n%f* %t%{-}%+Lw%-0<"
#caption always "%{= bw}%{bw}%-Lw%{gw} %n#%t %{bw}%+Lw %=%c%{= R}%{-}"

# key bingdings
# remove some stupid/dangerous key bindings
bind k
bind ^k
bind .
bind ^\
bind \\
bind ^h
bind h
bind l windowlist
bindkey ^[, prev
bindkey ^[. next

# some useful keys for resizing
bind = resize =
bind + resize +1
bind - resize -1
bind _ resize max

# bind some keys for moving between split windows
bind j focus down
bind k focus up
bind t focus top
bind b focus bottom


terminfo xterm*|rxvt ti@:te@
terminfo rxvt-unicode 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'
terminfo xterm* 'XT:hs:ts=\E]2;:fs=\007:ds=\E]2;screen\007'

termcapinfo xterm 'hs:ts=\E]2;:fs=\007:ds=\E]2;screen\007'
termcapinfo rxvt 'hs:ts=\E]2;:fs=\007:ds=\E]2;screen\007'

autodetach on
altscreen on

msgwait 5
msgminwait 2
pow_detach_msg "Screen session of \$LOGNAME \$:cr:\$:nl:ended."

vbell on
vbell_msg "   Wuff  ----  Wuff!!  "


msgwait 5
msgminwait 2

# detach on hangup
autodetach on

# don't display the copyright page
startup_message off

# emulate .logout message
pow_detach_msg "Screen session of \$LOGNAME \$:cr:\$:nl:ended."

# make the shell in every window a login shell
shell -$SHELL

# autoaka testing
# shellaka '> |tcsh'
# shellaka '$ |sh'


# bigger scrollback, default is 100 lines
defscrollback 2048

# don't kill window after the process died
# zombie "^["

# enable support for the "alternate screen" capability in all windows
altscreen on


################
#
# xterm tweaks
#

#xterm understands both im/ic and doesn't have a status line.
#Note: Do not specify im and ic in the real termcap/info file as
#some programs (e.g. vi) will not work anymore.
termcap  xterm hs@:cs=\E[%i%d;%dr:im=\E[4h:ei=\E[4l
terminfo xterm hs@:cs=\E[%i%p1%d;%p2%dr:im=\E[4h:ei=\E[4l
terminfo xterm* 'XT:hs:ts=\E]2;:fs=\007:ds=\E]2;screen\007'

#80/132 column switching must be enabled for ^AW to work
#change init sequence to not switch width
termcapinfo xterm Z0=\E[?3h:Z1=\E[?3l:is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;4;6l


# Make the output buffer large for (fast) xterms.
#termcapinfo xterm* OL=10000
termcapinfo xterm* OL=100

# tell screen that xterm can switch to dark background and has function
# keys.
termcapinfo xterm 'VR=\E[?5h:VN=\E[?5l'
termcapinfo xterm 'k1=\E[11~:k2=\E[12~:k3=\E[13~:k4=\E[14~'
termcapinfo xterm 'kh=\EOH:kI=\E[2~:kD=\E[3~:kH=\EOF:kP=\E[5~:kN=\E[6~'

#terminfo xterm 'vb=\E[?5h$<200/>\E[?5l'
termcapinfo xterm 'vi=\E[?25l:ve=\E[34h\E[?25h:vs=\E[34l'

# emulate part of the 'K' charset
termcapinfo   xterm 'XC=K%,%\E(B,[\304,\\\\\326,]\334,{\344,|\366,}\374,~\337'

# xterm-52 tweaks:
# - uses background color for delete operations
termcapinfo xterm* be


################
#
# other terminals
#

# Extend the vt100 desciption by some sequences.
termcap  vt100* ms:AL=\E[%dL:DL=\E[%dM:UP=\E[%dA:DO=\E[%dB:LE=\E[%dD:RI=\E[%dC
terminfo vt100* ms:AL=\E[%p1%dL:DL=\E[%p1%dM:UP=\E[%p1%dA:DO=\E[%p1%dB:LE=\E[%p1%dD:RI=\E[%p1%dC
termcapinfo linux C8

# old rxvt versions also need this
# termcapinfo rxvt C8
termcapinfo rxvt 'hs:ts=\E]2;:fs=\007:ds=\E]2;screen\007'

terminfo xterm*|rxvt ti@:te@
terminfo rxvt-unicode 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'


################
#
# keybindings
#

# some useful keys for resizing
bind = resize =
bind + resize +1
bind - resize -1
bind _ resize max

# bind some keys for moving between split windows
bind j focus down
bind k focus up
bind t focus top
bind b focus bottom


#remove some stupid / dangerous key bindings
bind k
bind ^k
bind .
bind ^\
bind \\
bind ^h
bind h
bind l windowlist
bindkey ^[, prev
bindkey ^[. next

#make them better
bind 'K' kill
bind 'I' login on
bind 'O' login off
bind '}' history

# Yet another hack:
# Prepend/append register [/] to the paste if ^a^] is pressed.
# This lets me have autoindent mode in vi.
register [ "\033:se noai\015a"
register ] "\033:se ai\015a"
bind ^] paste [.]

################
#
# default windows
#

# screen -t local 0
# screen -t mail 1 mutt
# screen -t 40 2 rlogin server

# bind = resize =
# bind + resize +1
# bind - resize -1
# bind _ resize max
#
# defnonblock 1
# blankerprg rain -d 100
# idle 30 blanker
defescape ^Jj
escape ^Jj
#escape ^Gg

nethack on
defutf8 on

bind s #disables C-a s freezing.ca

screen -t zsh 1 zsh
screen -t rtorrent 2 zsh
# change window with ALT-W ALT-E
bindkey "^[w" prev
bindkey "^[e" next
bind c screen 1  #starts with 1

## use 256 colors with urxvt
#termcap rxvt-256color 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'
#terminfo rxvt-256color 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'

## allow bold colors
#attrcolor b ".I"

## erase background with current bg color
#defbce "on"

## set TERM
#term screen-256color-bce

# set every new windows hardstatus line to somenthing descriptive
defhstatus "screen: ^En (^Et)"

# caption always "%3n %t%? @%u%?%? [%h]%?%=%c"
# hardstatus alwaysignore
# hardstatus alwayslastline "%Lw"

# An alternative hardstatus to display a bar at the bottom listing the
# windownames and highlighting the current windowname in blue. (This is only
# enabled if there is no hardstatus setting for your terminal)
hardstatus on
hardstatus alwayslastline
hardstatus string "%{.bW}%-w%{.rW}%n %t%{-}%+w %=%{..G} %H %{..Y} %m/%d %C%a "
#hardstatus string '%{= dg}-%{g}%{W}%H%{g}-%= %{= kw}%-w%{= kg}%n %t%{-}%+w%{dw} %=%{g}-%{r}%{W}%c%{g}-'


# advertise hardstatus support to $TERMCAP: use the window title.
# termcapinfo  * '' 'hs:ts=\E_:fs=\E\\:ds=\E_\E\\'
termcapinfo xterm 'hs:ts=\E]2;:fs=\007:ds=\E]2;screen\007'

# another way to show window list
#caption always "%?%F%{-b 4w}%:%{-b bb}%? %H | %l | %m-%d %c |%?%F%{-b 4w}%?%L=%-Lw%45>%{-b w4}%n%f* %t%{-}%+Lw%-0<"
#caption always "%{= bw}%{bw}%-Lw%{gw} %n#%t %{bw}%+Lw %=%c%{= R}%{-}"


#################################################################################
# Colors                                                                        #
# 0 Black             .    leave color unchanged                                #
# 1 Red               b    blue                                                 #
# 2 Green             c    cyan
# 3 Brown / yellow    d    default color
# 4 Blue              g    green           b    bold
# 5 Purple            k    blacK           B    blinking
# 6 Cyan              m    magenta         d    dim
# 7 White             r    red             r    reverse
# 8 unused/illegal    w    white           s    standout
# 9 transparent       y    yellow          u    underline
#
# AB=background, AF=foreground
#
#   %      escape character
#       a      either 'am' or 'pm'
#       A      either 'AM' or 'PM'
#       c      current time HH:MM in 24h format
#       C      current time HH:MM in 12h format
#       d      day number
#       D      weekday name
#       f      flags of the window
#       F      sets %? to true if the window has the focus
#       h      hardstatus of the window
#       H      hostname of the system
#       l      current load of the system
#       m      month number
#       M      month name
#       n      window number
#       s      seconds
#       t      window title
#       u      all other users on this window
#       w      all window numbers and names. With '-'  quailifier: up to the -
#              current window; with '+' qualifier: starting with the window
#       W      all window numbers and names except the current one              #
#       y      last two digits of the year number                               #
#       Y      full year number                                                 #
#################################################################################

